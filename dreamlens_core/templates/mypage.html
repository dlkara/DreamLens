<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>내 정보 수정</title>
</head>
<body>
  <h2>내 정보 수정</h2>

  <form method="POST" action="{% url 'mypage' %}">
    {% csrf_token %}

    <!-- 아이디 (readonly) -->
    <input type="text" name="username" value="{{ user.username }}" readonly>

    <!-- 비밀번호 변경 -->
    <input type="password" name="password" placeholder="비밀번호">
    <input type="password" name="password2" placeholder="비밀번호 확인">

    <!-- 닉네임 -->
    <input type="text" name="nickname" value="{{ user.nickname }}" required>

    <!-- 생년월일 -->
    <input type="text" name="birth" value="{{ user.birth|date:'Ymd' }}" placeholder="생년월일 (8자리)">

    <!-- 성별 -->
    <select name="gender">
      <option value="">선택 안 함 (default)</option>
      <option value="남자" {% if user.gender == "남자" %}selected{% endif %}>남자</option>
      <option value="여자" {% if user.gender == "여자" %}selected{% endif %}>여자</option>
      <option value="기타" {% if user.gender == "기타" %}selected{% endif %}>기타</option>
    </select>

    <br>
    <button type="submit">저장하기</button>
  </form>

  {% if messages %}
    <ul>
      {% for message in messages %}
        <li>{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
</body>
</html>
