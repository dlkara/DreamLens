{% load static %}

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>DreamLens</title>
    <link rel="stylesheet" href="{% static 'css/common.css' %}">
</head>
<body>
    {% include "header.html" %}

    <main style="padding: 40px; text-align: center;">
        <h1>ê¿ˆì˜ ì¡°ê°ì„ ë§ì¶°ë³´ì„¸ìš”!</h1>

        <div>
            <a href="/interpret/" class="btn big">ğŸ”® í•´ëª½í•˜ëŸ¬ ê°€ê¸°</a><br>
            <a href="/dict/" class="btn big">ğŸ“˜ ê¿ˆ ì‚¬ì „ ë³´ê¸°</a><br>

            <!-- âœ… ë³´í˜¸ëœ í˜ì´ì§€: ë‚´ ì¼ê¸°ì¥ -->
            <button class="btn big" onclick="goToProtectedPage('/diary/')">ğŸ“” ë‚´ ì¼ê¸°ì¥</button><br>

            <!-- âœ… ë³´í˜¸ëœ í˜ì´ì§€: ë¶„ì„ ë¦¬í¬íŠ¸ -->
            <button class="btn big" onclick="goToProtectedPage('/report/')">ğŸ“Š ë¶„ì„ ë¦¬í¬íŠ¸</button>
        </div>
    </main>

    {% include "footer.html" %}

    <script src="{% static 'js/header.js' %}"></script>

    <!-- âœ… ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ë° í˜ì´ì§€ ë³´í˜¸ìš© ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        function goToProtectedPage(targetUrl) {
            const isLoggedIn = "{{ user.is_authenticated|yesno:'true,false' }}" === "true";
            if (isLoggedIn) {
                window.location.href = targetUrl;
            } else {
                alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.");
                window.location.href = "/login/";
            }
        }
    </script>
</body>
</html>
